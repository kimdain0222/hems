# ğŸ  HEMS (Home Energy Management System) - ê°€ì •ìš© ì—ë„ˆì§€ ê´€ë¦¬ í”Œë«í¼

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

ê°€ì •ìš© ì‚¬ìš©ìë¥¼ ìœ„í•œ í†µí•© ì—ë„ˆì§€ ê´€ë¦¬ ì‹œìŠ¤í…œìœ¼ë¡œ, ì‹¤ì‹œê°„ ì—ë„ˆì§€ ëª¨ë‹ˆí„°ë§, AI ê¸°ë°˜ ìµœì í™”, ì •ë¶€ ì¸ì„¼í‹°ë¸Œ ì—°ê³„, ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ëª¨ë°”ì¼ í¼ìŠ¤íŠ¸ í”Œë«í¼ì…ë‹ˆë‹¤.

### ğŸ¯ í•µì‹¬ ëª©í‘œ
- **ì‹¤ì‹œê°„ ì—ë„ˆì§€ ëª¨ë‹ˆí„°ë§**: IoT ì„¼ì„œë¥¼ í†µí•œ ì‹¤ì‹œê°„ ì „ë ¥ ì‚¬ìš©ëŸ‰ ì¶”ì 
- **AI ê¸°ë°˜ ìµœì í™”**: ë¨¸ì‹ ëŸ¬ë‹ì„ í™œìš©í•œ ì—ë„ˆì§€ ì‚¬ìš© íŒ¨í„´ ë¶„ì„ ë° ìµœì í™” ì œì•ˆ
- **ì •ë¶€ ì¸ì„¼í‹°ë¸Œ ì—°ê³„**: ê¸°ì¡´ ìŠ¤ë§ˆíŠ¸ ì—ë„ˆì§€ í”Œë«í¼ê³¼ ì—°ë™í•˜ì—¬ ìë™ ë³´ìƒ ì‹œìŠ¤í…œ
- **ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥**: ê²Œì„í”¼ì¼€ì´ì…˜ì„ í†µí•œ ì—ë„ˆì§€ ì ˆì•½ ë™ê¸° ë¶€ì—¬
- **ëª¨ë°”ì¼ í¼ìŠ¤íŠ¸**: ë°˜ì‘í˜• ì›¹ ë° React Native ì•±ìœ¼ë¡œ ì–¸ì œ ì–´ë””ì„œë‚˜ ì ‘ê·¼

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        HEMS í”Œë«í¼                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“± ëª¨ë°”ì¼ ì•± (React Native)  â”‚  ğŸŒ ì›¹ ëŒ€ì‹œë³´ë“œ (React.js)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    ğŸ”— API Gateway (í¬íŠ¸ 8000)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ‘¤ ì‚¬ìš©ì ì•±    â”‚  ğŸ¤– AI ì—”ì§„    â”‚  ğŸ“Š IoT ìˆ˜ì§‘ê¸°  â”‚  ğŸ’° ì¸ì„¼í‹°ë¸Œ  â”‚
â”‚   (í¬íŠ¸ 8003)    â”‚  (í¬íŠ¸ 8004)   â”‚   (í¬íŠ¸ 8006)   â”‚   (í¬íŠ¸ 8005) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¢ BEMS ì—°ë™ê¸°  â”‚  ğŸ”— ê¸°ì¡´ ì‹œìŠ¤í…œ ì—°ê³„                         â”‚
â”‚   (í¬íŠ¸ 8009)    â”‚  â€¢ ê¸°ì—…ìš© BEMS (C:\energy_sys)              â”‚
â”‚                  â”‚  â€¢ ìŠ¤ë§ˆíŠ¸ ì—ë„ˆì§€ í”Œë«í¼ (C:\smart_energy_platform) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ—„ï¸ ë°ì´í„° ê³„ì¸µ                                                â”‚
â”‚  PostgreSQL (ë©”ì¸ DB) â”‚ InfluxDB (ì‹œê³„ì—´) â”‚ Redis (ìºì‹œ)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ êµ¬ì¡°

| ì„œë¹„ìŠ¤ | í¬íŠ¸ | ì—­í•  | ê¸°ìˆ  ìŠ¤íƒ |
|--------|------|------|-----------|
| **API Gateway** | 8000 | í†µí•© API ê²Œì´íŠ¸ì›¨ì´, ë¼ìš°íŒ…, ì¸ì¦ | Node.js + Express |
| **User App** | 8003 | ì‚¬ìš©ì ê´€ë¦¬, í”„ë¡œí•„, ëŒ€ì‹œë³´ë“œ | FastAPI + Python |
| **AI Optimization** | 8004 | ML ëª¨ë¸, ì˜ˆì¸¡, ìµœì í™” ì œì•ˆ | Python + TensorFlow |
| **IoT Collector** | 8006 | IoT ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘ ë° ì²˜ë¦¬ | Python + MQTT |
| **Incentive Management** | 8005 | ë³´ìƒ ê³„ì‚°, ì •ë¶€ ì—°ê³„ | FastAPI + Python |
| **BEMS Connector** | 8009 | ê¸°ì¡´ BEMS ì‹œìŠ¤í…œ ì—°ë™ | Python + HTTP Client |

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### PostgreSQL (ë©”ì¸ ë°ì´í„°ë² ì´ìŠ¤)

```sql
-- ì‚¬ìš©ì ë° ì¸ì¦
CREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    email VARCHAR(255) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    user_type VARCHAR(50) NOT NULL, -- individual, family, community
    full_name VARCHAR(100),
    phone_number VARCHAR(20),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ê°€ì • ì •ë³´
CREATE TABLE households (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES users(id) ON DELETE CASCADE,
    address TEXT NOT NULL,
    building_type VARCHAR(50), -- apartment, house, villa
    area_sqm INTEGER,
    resident_count INTEGER,
    income_level VARCHAR(20),
    energy_tariff VARCHAR(50), -- time_of_use, flat_rate
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- IoT ë””ë°”ì´ìŠ¤ ì •ë³´
CREATE TABLE iot_devices (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    household_id UUID REFERENCES households(id) ON DELETE CASCADE,
    device_type VARCHAR(50) NOT NULL, -- smart_meter, thermostat, solar_panel, battery
    device_id VARCHAR(100) UNIQUE NOT NULL,
    manufacturer VARCHAR(100),
    model VARCHAR(100),
    installation_date DATE,
    is_active BOOLEAN DEFAULT true,
    last_seen TIMESTAMP,
    metadata JSONB
);

-- ì—ë„ˆì§€ ì‚¬ìš©ëŸ‰ ì¼ì¼ ì§‘ê³„
CREATE TABLE energy_usage_daily (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    household_id UUID REFERENCES households(id) ON DELETE CASCADE,
    date DATE NOT NULL,
    total_consumption FLOAT, -- kWh
    peak_consumption FLOAT,
    off_peak_consumption FLOAT,
    solar_generation FLOAT,
    grid_consumption FLOAT,
    cost FLOAT, -- ì›
    carbon_emission FLOAT, -- kg CO2
    efficiency_score FLOAT, -- 0-100
    UNIQUE(household_id, date)
);

-- ì¸ì„¼í‹°ë¸Œ ë° ë³´ìƒ
CREATE TABLE incentives (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    household_id UUID REFERENCES households(id) ON DELETE CASCADE,
    incentive_type VARCHAR(50) NOT NULL, -- energy_savings, government_support, community_reward
    amount FLOAT NOT NULL,
    currency VARCHAR(3) DEFAULT 'KRW',
    status VARCHAR(20) DEFAULT 'pending', -- pending, approved, paid
    calculated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    paid_at TIMESTAMP,
    metadata JSONB
);

-- AI ì˜ˆì¸¡ ê²°ê³¼
CREATE TABLE ai_predictions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    household_id UUID REFERENCES households(id) ON DELETE CASCADE,
    prediction_type VARCHAR(50) NOT NULL, -- hourly, daily, monthly
    predicted_consumption FLOAT,
    confidence_score FLOAT,
    predicted_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    target_date DATE,
    metadata JSONB
);

-- ì¸ë±ìŠ¤ ìµœì í™”
CREATE INDEX idx_households_user_id ON households(user_id);
CREATE INDEX idx_iot_devices_household_id ON iot_devices(household_id);
CREATE INDEX idx_energy_usage_household_date ON energy_usage_daily(household_id, date);
CREATE INDEX idx_incentives_household_id ON incentives(household_id);
CREATE INDEX idx_ai_predictions_household_id ON ai_predictions(household_id);
```

### InfluxDB (ì‹œê³„ì—´ ë°ì´í„°)

```sql
-- ì‹¤ì‹œê°„ ì—ë„ˆì§€ ì‚¬ìš©ëŸ‰
CREATE MEASUREMENT energy_consumption (
    time TIMESTAMP,
    household_id TAG,
    device_id TAG,
    power_consumption FLOAT, -- kW
    voltage FLOAT,
    current FLOAT,
    power_factor FLOAT,
    cost FLOAT,
    carbon_emission FLOAT
);

-- í™˜ê²½ ì„¼ì„œ ë°ì´í„°
CREATE MEASUREMENT environmental_data (
    time TIMESTAMP,
    household_id TAG,
    temperature FLOAT,
    humidity FLOAT,
    co2_level FLOAT,
    air_quality_index FLOAT,
    weather_condition STRING
);

-- AI ì˜ˆì¸¡ ë°ì´í„°
CREATE MEASUREMENT ai_predictions (
    time TIMESTAMP,
    household_id TAG,
    prediction_type TAG,
    predicted_value FLOAT,
    confidence_score FLOAT,
    actual_value FLOAT
);

-- ë³´ì¡´ ì •ì±… ì„¤ì •
CREATE RETENTION POLICY "energy_data" ON "hems_db"
DURATION 365d REPLICATION 1 DEFAULT;

CREATE RETENTION POLICY "environmental_data" ON "hems_db"
DURATION 90d REPLICATION 1;

CREATE RETENTION POLICY "ai_predictions" ON "hems_db"
DURATION 180d REPLICATION 1;
```

### Redis (ìºì‹œ ë° ì„¸ì…˜)

```redis
# ì‹¤ì‹œê°„ ë°ì´í„° ìºì‹œ
SET household:123:current_power 2.5
EXPIRE household:123:current_power 60

# ì‚¬ìš©ì ì„¸ì…˜
SET session:user:456 "user_data_json"
EXPIRE session:user:456 3600

# AI ì˜ˆì¸¡ ê²°ê³¼ ìºì‹œ
SET prediction:household:123:next_hour "prediction_data"
EXPIRE prediction:household:123:next_hour 300

# ì»¤ë®¤ë‹ˆí‹° ë­í‚¹ ìºì‹œ
ZADD leaderboard:monthly 150.5 "user:123"
ZADD leaderboard:monthly 120.3 "user:456"

# ì‹¤ì‹œê°„ ì•Œë¦¼ í
LPUSH notifications:user:123 "energy_spike_alert"
```

## ğŸ”Œ IoT ì—°ë™ ì„¤ê³„

### IoT ë””ë°”ì´ìŠ¤ ì§€ì› ëª©ë¡

| ë””ë°”ì´ìŠ¤ íƒ€ì… | í”„ë¡œí† ì½œ | ë°ì´í„° | ë¹„ê³  |
|---------------|----------|--------|------|
| **ìŠ¤ë§ˆíŠ¸ ë¯¸í„°** | DLMS/COSEM, Modbus | ì „ë ¥ ì‚¬ìš©ëŸ‰, ì „ì••, ì „ë¥˜ | ì „ë ¥íšŒì‚¬ API ì—°ë™ |
| **ìŠ¤ë§ˆíŠ¸ í”ŒëŸ¬ê·¸** | WiFi, Zigbee | ê°œë³„ ê¸°ê¸° ì „ë ¥ ì‚¬ìš©ëŸ‰ | TP-Link, Xiaomi ë“± |
| **ìŠ¤ë§ˆíŠ¸ ì„œëª¨ìŠ¤íƒ¯** | WiFi, Zigbee | ì˜¨ë„, ë‚œë°©/ëƒ‰ë°© ìƒíƒœ | Nest, Ecobee ë“± |
| **íƒœì–‘ê´‘ ì¸ë²„í„°** | Modbus TCP | ë°œì „ëŸ‰, íš¨ìœ¨ | SMA, Fronius ë“± |
| **ë°°í„°ë¦¬ ì‹œìŠ¤í…œ** | Modbus TCP | ì¶©ì „/ë°©ì „ ìƒíƒœ, SOC | Tesla Powerwall ë“± |
| **í™˜ê²½ ì„¼ì„œ** | WiFi, LoRaWAN | ì˜¨ë„, ìŠµë„, CO2 | ì˜¨ìŠµë„ê³„, ê³µê¸°ì§ˆ ì„¼ì„œ |

### ë°ì´í„° ìˆ˜ì§‘ íŒŒì´í”„ë¼ì¸

```
IoT ë””ë°”ì´ìŠ¤ â†’ MQTT Broker â†’ IoT Collector â†’ ë°ì´í„° ê²€ì¦ â†’ InfluxDB
                                    â†“
                              Redis ìºì‹œ â†’ API Gateway â†’ ëª¨ë°”ì¼ ì•±
                                    â†“
                              AI ì—”ì§„ â†’ ì˜ˆì¸¡ ëª¨ë¸ ì—…ë°ì´íŠ¸
```

## ğŸ“± ëª¨ë°”ì¼ ì•± ì„¤ê³„

### ì£¼ìš” í™”ë©´ êµ¬ì„±

#### 1. ëŒ€ì‹œë³´ë“œ í™”ë©´
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ  ìš°ë¦¬ì§‘ ì—ë„ˆì§€ í˜„í™©              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš¡ í˜„ì¬ ì „ë ¥ ì‚¬ìš©ëŸ‰                â”‚
â”‚     2.5 kW                         â”‚
â”‚  ğŸ’° ì˜¤ëŠ˜ ì ˆì•½ëŸ‰                     â”‚
â”‚     15.2 kWh  (+â‚©2,280)           â”‚
â”‚  ğŸŒ± CO2 ì ˆê°ëŸ‰                      â”‚
â”‚     6.4 kg                         â”‚
â”‚  ğŸ“Š ì—ë„ˆì§€ íš¨ìœ¨ ë“±ê¸‰                â”‚
â”‚     A+ (95ì )                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ˆ 24ì‹œê°„ ì‚¬ìš©ëŸ‰ ê·¸ë˜í”„            â”‚
â”‚  [ì‹¤ì‹œê°„ ì°¨íŠ¸ ì˜ì—­]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¡ AI ì¶”ì²œ ì•¡ì…˜                    â”‚
â”‚  â€¢ ì—ì–´ì»¨ ì˜¨ë„ 1ë„ ë†’ì´ê¸°           â”‚
â”‚  â€¢ ë¶ˆí•„ìš”í•œ ì¡°ëª… ë„ê¸°               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. ì»¤ë®¤ë‹ˆí‹° í™”ë©´
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ† ì ˆì•½ ì±Œë¦°ì§€                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ë‚´ ìˆœìœ„: 15ìœ„ / 1,250ëª…            â”‚
â”‚  ì´ë²ˆ ë‹¬ ì ˆì•½ëŸ‰: 45.2 kWh           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¥‡ 1ìœ„ ê¹€ì—ë„ˆì§€ 45.2 kWh          â”‚
â”‚  ğŸ¥ˆ 2ìœ„ ì´ì ˆì•½   42.8 kWh          â”‚
â”‚  ğŸ¥‰ 3ìœ„ ë°•ì¹œí™˜ê²½ 40.1 kWh          â”‚
â”‚  ...                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ¯ ì§„í–‰ì¤‘ì¸ ì±Œë¦°ì§€                 â”‚
â”‚  â€¢ ì£¼ë§ ì ˆì•½ ì±Œë¦°ì§€ (156ëª… ì°¸ì—¬)    â”‚
â”‚  â€¢ ê²¨ìš¸ì²  ë‚œë°© íš¨ìœ¨ ì±Œë¦°ì§€ (89ëª…)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3. AI ì¶”ì²œ í™”ë©´
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– AI ì—ë„ˆì§€ ì–´ì‹œìŠ¤í„´íŠ¸            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š ë‹¤ìŒ 1ì‹œê°„ ì˜ˆì¸¡                 â”‚
â”‚     ì˜ˆìƒ ì‚¬ìš©ëŸ‰: 2.8 kW             â”‚
â”‚     ì‹ ë¢°ë„: 92%                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¡ ê°œì¸í™” ì¶”ì²œ                     â”‚
â”‚  â€¢ ì—ì–´ì»¨ ì˜¨ë„ 1ë„ ë†’ì´ê¸°           â”‚
â”‚    ì ˆì•½ íš¨ê³¼: â‚©800/ì¼               â”‚
â”‚  â€¢ ìŠ¤ë§ˆíŠ¸ í”ŒëŸ¬ê·¸ ì‚¬ìš©               â”‚
â”‚    ì ˆì•½ íš¨ê³¼: â‚©1,200/ì›”             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŒ¤ï¸ ë‚ ì”¨ ê¸°ë°˜ ì¡°ì–¸                 â”‚
â”‚  â€¢ ë‚´ì¼ íë¦¼ ì˜ˆìƒ, ì¡°ëª… ì‚¬ìš©ëŸ‰ ì¦ê°€ â”‚
â”‚  â€¢ LED ì „êµ¬ êµì²´ ê¶Œì¥               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4. ë³´ìƒ í˜„í™© í™”ë©´
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’° ë³´ìƒ í˜„í™©                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’³ í˜„ì¬ ì ë¦½                       â”‚
â”‚     í¬ì¸íŠ¸: 15,200 P               â”‚
â”‚     í˜„ê¸ˆ: â‚©8,500                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ›ï¸ ì •ë¶€ ì§€ì› í”„ë¡œê·¸ë¨              â”‚
â”‚  â€¢ ì „ë ¥ì‚¬ìš©ëŸ‰ ê¸°ë°˜ ë³´ìƒ             â”‚
â”‚    ì‹ ì²­ ìƒíƒœ: ìŠ¹ì¸ ëŒ€ê¸°             â”‚
â”‚  â€¢ ì—ë„ˆì§€ íš¨ìœ¨ ê°œì„  ì§€ì›ê¸ˆ          â”‚
â”‚    ì‹ ì²­ ìƒíƒœ: ê²€í†  ì¤‘               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“‹ ìµœê·¼ ê±°ë˜ ë‚´ì—­                  â”‚
â”‚  â€¢ ì—ë„ˆì§€ ì ˆì•½ ë³´ìƒ +â‚©2,280        â”‚
â”‚  â€¢ ì»¤ë®¤ë‹ˆí‹° ì±Œë¦°ì§€ +â‚©1,500         â”‚
â”‚  â€¢ ì •ë¶€ ì§€ì›ê¸ˆ +â‚©5,000             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ³ Docker í™˜ê²½ ì„¤ì •

### docker-compose.yml

```yaml
version: '3.8'

services:
  # ë°ì´í„°ë² ì´ìŠ¤
  postgres:
    image: postgres:15
    environment:
      POSTGRES_DB: hems_db
      POSTGRES_USER: hems_user
      POSTGRES_PASSWORD: hems_password
    volumes:
      - postgres_data:/var/lib/postgresql/data
      - ./database/init.sql:/docker-entrypoint-initdb.d/init.sql
    ports:
      - "5432:5432"
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U hems_user -d hems_db"]
      interval: 30s
      timeout: 10s
      retries: 3
    networks:
      - hems_network

  influxdb:
    image: influxdb:2.7
    environment:
      DOCKER_INFLUXDB_INIT_MODE: setup
      DOCKER_INFLUXDB_INIT_USERNAME: admin
      DOCKER_INFLUXDB_INIT_PASSWORD: admin123
      DOCKER_INFLUXDB_INIT_ORG: hems
      DOCKER_INFLUXDB_INIT_BUCKET: energy_data
    volumes:
      - influxdb_data:/var/lib/influxdb2
    ports:
      - "8086:8086"
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8086/health"]
      interval: 30s
      timeout: 10s
      retries: 3
    networks:
      - hems_network

  redis:
    image: redis:7-alpine
    volumes:
      - redis_data:/data
    ports:
      - "6379:6379"
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 30s
      timeout: 10s
      retries: 3
    networks:
      - hems_network

  # MQTT Broker (IoT ë°ì´í„° ìˆ˜ì§‘ìš©)
  mosquitto:
    image: eclipse-mosquitto:2.0
    volumes:
      - ./mqtt/mosquitto.conf:/mosquitto/config/mosquitto.conf
    ports:
      - "1883:1883"
      - "9001:9001"
    networks:
      - hems_network

  # HEMS ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤
  api_gateway:
    build: ./services/api_gateway
    ports:
      - "8000:8000"
    environment:
      - NODE_ENV=development
      - DATABASE_URL=postgresql://hems_user:hems_password@postgres:5432/hems_db
      - INFLUXDB_URL=http://influxdb:8086
      - REDIS_URL=redis://redis:6379
      - MQTT_BROKER=mqtt://mosquitto:1883
    depends_on:
      postgres:
        condition: service_healthy
      influxdb:
        condition: service_healthy
      redis:
        condition: service_healthy
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8000/health"]
      interval: 30s
      timeout: 10s
      retries: 3
    networks:
      - hems_network

  user_app:
    build: ./services/user_app
    ports:
      - "8003:8000"
    environment:
      - NODE_ENV=development
      - DATABASE_URL=postgresql://hems_user:hems_password@postgres:5432/hems_db
      - REDIS_URL=redis://redis:6379
      - INFLUXDB_URL=http://influxdb:8086
    depends_on:
      postgres:
        condition: service_healthy
      redis:
        condition: service_healthy
    networks:
      - hems_network

  ai_optimization:
    build: ./services/ai_optimization
    ports:
      - "8004:8000"
    environment:
      - NODE_ENV=development
      - DATABASE_URL=postgresql://hems_user:hems_password@postgres:5432/hems_db
      - INFLUXDB_URL=http://influxdb:8086
      - REDIS_URL=redis://redis:6379
    depends_on:
      postgres:
        condition: service_healthy
      influxdb:
        condition: service_healthy
    networks:
      - hems_network

  iot_collector:
    build: ./services/iot_collector
    ports:
      - "8006:8000"
    environment:
      - NODE_ENV=development
      - INFLUXDB_URL=http://influxdb:8086
      - REDIS_URL=redis://redis:6379
      - MQTT_BROKER=mqtt://mosquitto:1883
    depends_on:
      influxdb:
        condition: service_healthy
      redis:
        condition: service_healthy
    networks:
      - hems_network

  incentive_mgmt:
    build: ./services/incentive_mgmt
    ports:
      - "8005:8000"
    environment:
      - NODE_ENV=development
      - DATABASE_URL=postgresql://hems_user:hems_password@postgres:5432/hems_db
      - REDIS_URL=redis://redis:6379
    depends_on:
      postgres:
        condition: service_healthy
    networks:
      - hems_network

  bems_connector:
    build: ./services/bems_connector
    ports:
      - "8009:8000"
    environment:
      - NODE_ENV=development
      - BEMS_API_URL=http://host.docker.internal:8080
      - SMART_ENERGY_API_URL=http://host.docker.internal:8000
      - DATABASE_URL=postgresql://hems_user:hems_password@postgres:5432/hems_db
    depends_on:
      postgres:
        condition: service_healthy
    networks:
      - hems_network

  # ëª¨ë‹ˆí„°ë§
  prometheus:
    image: prom/prometheus:latest
    ports:
      - "9090:9090"
    volumes:
      - ./monitoring/prometheus.yml:/etc/prometheus/prometheus.yml
    networks:
      - hems_network

  grafana:
    image: grafana/grafana:latest
    ports:
      - "3000:3000"
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=admin123
    volumes:
      - grafana_data:/var/lib/grafana
    networks:
      - hems_network

volumes:
  postgres_data:
  influxdb_data:
  redis_data:
  grafana_data:

networks:
  hems_network:
    driver: bridge
```

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. í™˜ê²½ ì„¤ì •

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone <repository-url>
cd hems

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì—ì„œ í•„ìš”í•œ ì„¤ì •ê°’ ìˆ˜ì •

# Docker ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker-compose up -d --build

# ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
docker-compose exec postgres psql -U hems_user -d hems_db -f /docker-entrypoint-initdb.d/init.sql
```

### 2. ì„œë¹„ìŠ¤ ì ‘ì†

- **API Gateway**: http://localhost:8000
- **ì‚¬ìš©ì ì•±**: http://localhost:8003
- **AI ìµœì í™”**: http://localhost:8004
- **IoT ìˆ˜ì§‘ê¸°**: http://localhost:8006
- **ì¸ì„¼í‹°ë¸Œ ê´€ë¦¬**: http://localhost:8005
- **BEMS ì—°ë™ê¸°**: http://localhost:8009
- **Grafana ëŒ€ì‹œë³´ë“œ**: http://localhost:3000 (admin/admin123)

### 3. ëª¨ë°”ì¼ ì•± ì‹¤í–‰

```bash
cd mobile-app
npm install
npx react-native run-android  # Android
npx react-native run-ios      # iOS
```

## ğŸ”§ ê°œë°œ ê°€ì´ë“œ

### í”„ë¡œì íŠ¸ êµ¬ì¡°

```
hems/
â”œâ”€â”€ services/                 # ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ api_gateway/         # API ê²Œì´íŠ¸ì›¨ì´
â”‚   â”œâ”€â”€ user_app/           # ì‚¬ìš©ì ì•± ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ ai_optimization/    # AI ìµœì í™” ì—”ì§„
â”‚   â”œâ”€â”€ iot_collector/      # IoT ë°ì´í„° ìˆ˜ì§‘
â”‚   â”œâ”€â”€ incentive_mgmt/     # ì¸ì„¼í‹°ë¸Œ ê´€ë¦¬
â”‚   â””â”€â”€ bems_connector/     # ê¸°ì¡´ ì‹œìŠ¤í…œ ì—°ë™
â”œâ”€â”€ mobile-app/             # React Native ëª¨ë°”ì¼ ì•±
â”œâ”€â”€ web-dashboard/          # React.js ì›¹ ëŒ€ì‹œë³´ë“œ
â”œâ”€â”€ database/               # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”œâ”€â”€ monitoring/             # ëª¨ë‹ˆí„°ë§ ì„¤ì •
â”œâ”€â”€ docs/                   # ë¬¸ì„œ
â”œâ”€â”€ tests/                  # í…ŒìŠ¤íŠ¸
â”œâ”€â”€ docker-compose.yml      # Docker Compose ì„¤ì •
â””â”€â”€ README.md              # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

### API ë¬¸ì„œ

ê° ì„œë¹„ìŠ¤ì˜ API ë¬¸ì„œëŠ” ë‹¤ìŒì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- **API Gateway**: http://localhost:8000/docs
- **ì‚¬ìš©ì ì•±**: http://localhost:8003/docs
- **AI ìµœì í™”**: http://localhost:8004/docs
- **IoT ìˆ˜ì§‘ê¸°**: http://localhost:8006/docs
- **ì¸ì„¼í‹°ë¸Œ ê´€ë¦¬**: http://localhost:8005/docs

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

### ë©”íŠ¸ë¦­ ìˆ˜ì§‘

- **Prometheus**: ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
- **Grafana**: ëŒ€ì‹œë³´ë“œ ë° ì‹œê°í™”
- **ELK Stack**: ë¡œê·¸ ë¶„ì„ (ì„ íƒì‚¬í•­)

### ì£¼ìš” ë©”íŠ¸ë¦­

- ì—ë„ˆì§€ ì‚¬ìš©ëŸ‰ ì¶”ì´
- AI ì˜ˆì¸¡ ì •í™•ë„
- ì‹œìŠ¤í…œ ì„±ëŠ¥ ì§€í‘œ
- ì‚¬ìš©ì í™œë™ í†µê³„
- IoT ë””ë°”ì´ìŠ¤ ìƒíƒœ

## ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### ë°ì´í„° ë³´í˜¸

- ì‚¬ìš©ì ê°œì¸ì •ë³´ ì•”í˜¸í™”
- IoT ë””ë°”ì´ìŠ¤ ì¸ì¦
- API ì ‘ê·¼ ì œì–´
- ë°ì´í„° ì „ì†¡ ì•”í˜¸í™” (TLS)

### ê°œì¸ì •ë³´ ë³´í˜¸

- GDPR ì¤€ìˆ˜
- ë°ì´í„° ìµœì†Œí™” ì›ì¹™
- ì‚¬ìš©ì ë™ì˜ ê´€ë¦¬
- ë°ì´í„° ì‚­ì œ ìš”ì²­ ì²˜ë¦¬

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## ğŸ“„ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ `LICENSE` íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ“ ì§€ì›

ë¬¸ì œê°€ ìˆê±°ë‚˜ ì§ˆë¬¸ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ìƒì„±í•´ ì£¼ì„¸ìš”.

---

**ì°¸ê³ **: ì´ í”„ë¡œì íŠ¸ëŠ” ê¸°ì¡´ BEMS ì‹œìŠ¤í…œê³¼ ìŠ¤ë§ˆíŠ¸ ì—ë„ˆì§€ í”Œë«í¼ì˜ ë¬¸ì œì ì„ í•´ê²°í•˜ê³ , ê°€ì •ìš© ì‚¬ìš©ìì—ê²Œ ìµœì í™”ëœ ì—ë„ˆì§€ ê´€ë¦¬ ì†”ë£¨ì…˜ì„ ì œê³µí•˜ê¸° ìœ„í•´ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤.
